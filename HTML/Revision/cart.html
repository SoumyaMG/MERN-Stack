<!DOCTYPE html>
<html>
    <head>
        <title>List</title>
    </head>
    <body>
        <div>
            <h1>Shoping Cart - <span id="count"></span></h1>
            <ul id="list">
            </ul>
            <p >Total = <span id="total"></span></p>
        </div>
        <script>

            const countHandle=document.getElementById('count')
            const listHandle=document.getElementById('list')
            const totalHandle=document.getElementById('total')

                let cartItem=[
                    { id:1,name:'marker',price:10,qunty:10},
                    { id:2,name:'Scale',price:5,qunty:2},
                    { id:3,name:'Board',price:500,qunty:1}
                ]
               
                function cartLength(cartItem)
                {
                    let total=0
                    countHandle.innerHTML=cartItem.length
                    for(let i=0;i<cartItem.length;i++){
                        total=total+(cartItem[i].price*cartItem[i].qunty)
                    }
                    totalHandle.innerHTML=total
                }
                cartLength(cartItem)

                cartItem.forEach(function(item){
                    const liTag=document.createElement('li')
                    liTag.textContent=item.name
                    const upbtn=document.createElement('button')
                    upbtn.textContent='+'
                    const span1=document.createElement('span')
                    span1.textContent=item.qunty
                    const downBtn=document.createElement('button')
                    downBtn.textContent='-'
                    const span2=document.createElement('span')
                    span2.textContent=item.price
                    const span3=document.createElement('span')
                    cal(item.qunty,item.price)
                    const removeBtn=document.createElement('button')
                    removeBtn.textContent='remove'

                    function cal(quant,price){
                    let total1=quant*price
                    span3.textContent=` = ${total1}`
                }
                    removeBtn.addEventListener('click',function(){
                        const confirmRemove=confirm('Are you Sure?')
                        if(confirmRemove){
                            listHandle.removeChild(liTag)
                            cartItem=cartItem.filter(function(cItem)
                            {
                                return cItem.id!=item.id
                            })
                            cartLength(cartItem)
                        }
                    })
                    upbtn.addEventListener('click',function()
                    {
                        item.qunty=item.qunty+1
                        span1.textContent=item.qunty
                        cal(item.qunty,item.price)
                        cartLength(cartItem)
                    })
                    downBtn.addEventListener('click',function()
                    {
                        if(item.qunty==1){
                            downBtn.disabled
                        }
                        else{
                            item.qunty=item.qunty-1
                        }
                        span1.textContent=item.qunty
                        cal(item.qunty,item.price)
                        cartLength(cartItem)
                    })
                    liTag.appendChild(upbtn)
                    liTag.appendChild(span1)
                    liTag.appendChild(downBtn)
                    liTag.appendChild(span2)
                    liTag.appendChild(span3)
                    liTag.appendChild(removeBtn)                  
                    listHandle.appendChild(liTag)
                })       
        </script>
    </body>
</html>