<!DOCTYPE html>
<html>

<head>
    <title></title>
</head>

<body>
    <div id="root">
    </div>
    <script src="C:/Users/sgidd/Desktop/MERN_STACK/ReactJS/js/react.development.js"></script>
    <script src="C:/Users/sgidd/Desktop/MERN_STACK/ReactJS/js/react-dom.development.js"></script>
    <script src="C:/Users/sgidd/Desktop/MERN_STACK/ReactJS/js/babel.js"></script>
    <script src="C:/Users/sgidd/Desktop/MERN_STACK/ReactJS/js/axios.js"></script>

    <script type="text/babel">
            const rootHandle=document.getElementById("root")

            class Users extends React.Component{
                constructor(props)
                {
                    super(props)
                    this.state={
                        users:[]
                    }
                }

                 /*
                ComponentWillMount()
                {
                    console.log('component will render')
                }
                this is the function that gets called after the constructor is executed at the first time and before the render method is called.
                This menthod is getting depricated and will not be used in the future even if you want to use use you can use it as, UNSAFE_componentWillMount
                */

            //componentDidMount is userd after, first render is executed, and here we get the data from the API

            
                componentDidMount()   
                {
                    axios.get('https://jsonplaceholder.typicode.com/users')
                        .then((response)=>{
                            console.log(response.data)
                            //it returns an array
                            this.setState(()=>({
                                users:response.data
                            }))
                        })
                }

                render()
                {
                    return (
                        <div>
                        <h2>List Users-{this.state.users.length}</h2>
                        <ul>
                            {this.state.users.map(function(user)
                                {
                                    return <li key={user.id}>{user.name}</li>
                                })}
                        </ul>
                    </div>
                    )
                }  

            }
           
            ReactDOM.render(<Users />,rootHandle)
            </script>
</body>

</html>